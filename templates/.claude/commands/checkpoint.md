# チェックポイントコマンド

現在の作業状態を確認し、WIPコミットを作成します。

## 使い方

```
/checkpoint <作業サマリー（省略可）>
```

## プロンプト

以下の手順でチェックポイントを作成してください：

### 1. 作業状態の確認

```bash
# 現在のブランチと状態
git status

# 変更差分の確認
git diff --stat
git diff --cached --stat
```

### 2. 変更内容のサマリー

変更されたファイルを分析し、作業内容を要約します：

```markdown
## 現在の作業状態

### ブランチ: `ブランチ名`

### 変更ファイル
- `path/to/file` — 変更内容の概要
- `path/to/test` — テスト追加

### ステージ済み / 未ステージ
- ステージ済み: N ファイル
- 未ステージ: N ファイル
- 未追跡: N ファイル
```

### 3. WIP コミットの作成

ユーザーに確認後、WIPコミットを作成します：

```bash
# 変更をステージ（.gitignore で除外されないファイルを確認してからステージ）
git add <変更ファイル>

# WIP コミット
git commit -m "wip: <作業サマリー>"
```

**注意**: `.env` やビルド生成物など、意図しないファイルを含めないよう `git status` で確認してからステージしてください。

ユーザーが `$1` でサマリーを提供している場合はそれを使用します。
提供されていない場合は、変更内容から自動生成します。

### 4. 結果の表示

```markdown
## チェックポイント作成完了

- コミット: `ハッシュ`
- メッセージ: `wip: サマリー`
- 変更ファイル数: N

### 次のステップ
- 作業を続ける場合: そのまま続行
- 完了時に整理する場合: `git rebase -i` でWIPコミットをスカッシュ
```

---

**更新日**: 2025-10-20
